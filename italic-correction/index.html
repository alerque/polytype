<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Polytype – Automated Italic Correction</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="/main.css">
    
    <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
    
    <script type="module">
        import { initCodeMirror } from '/codemirror.js'
        function setupCodeMirror() {
          document.querySelectorAll('pre.sample').forEach(async function(container) {
              const content = container.textContent;
              const language = container.dataset.language;
              await initCodeMirror(container, content, language);
          });
        }
        if (document.readyState === "loading") {
          document.addEventListener('DOMContentLoaded', setupCodeMirror);
        } else {
          setupCodeMirror();
        }
    </script>
  </head>
  <body>
    <!--
    <pre>{
  "config": {
    "base_url": "/",
    "mode": "build",
    "title": "Polytype",
    "description": "a Rosetta stone for typesetting engines",
    "languages": {},
    "default_language": "en",
    "generate_feed": true,
    "generate_feeds": true,
    "feed_filenames": [
      "atom.xml"
    ],
    "taxonomies": [],
    "author": null,
    "build_search_index": false,
    "extra": {},
    "markdown": {
      "highlight_code": true,
      "error_on_missing_highlight": false,
      "highlight_theme": "base16-ocean-dark",
      "highlight_themes_css": [],
      "render_emoji": false,
      "external_links_class": null,
      "external_links_target_blank": false,
      "external_links_no_follow": false,
      "external_links_no_referrer": false,
      "smart_punctuation": false,
      "definition_list": false,
      "bottom_footnotes": false,
      "extra_syntaxes_and_themes": [],
      "lazy_async_image": false,
      "insert_anchor_links": "none",
      "github_alerts": false
    },
    "search": {
      "index_format": "elasticlunr_javascript"
    },
    "generate_sitemap": true,
    "generate_robots_txt": true,
    "exclude_paginated_pages_in_sitemap": "none"
  },
  "current_path": "/italic-correction/",
  "current_url": "/italic-correction/",
  "lang": "en",
  "page": {
    "relative_path": "italic-correction.md",
    "colocated_path": null,
    "content": "<p>When an italicized word is followed or preceded by non-italicized text, the spacing may need to be adjusted, or “corrected”, so that the characters do not overlap.</p>\n<p>You might thus want to insert some additional space between italicized words and non-italicized ones.\nBut inserting the necessary spaces manually is quite tedious, not to say impractical... And which type of space should you use?</p>\n<p>An automated solution would be needed.\nHowever, the concept of italic correction does not exist in OpenType fonts, and they do not provide the metrics that would allow a typesetting system to implement it easily. (This would apply to Graphite fonts too. More generally, there is no known font format supporting kerning across font style changes. Well, some TeX fonts have such a possibility, but it does not really help here with OpenType <em>in general.</em>)</p>\n<p>So eventually, it boils down to the typesetting system to implement a heuristic solution...</p>\n<p>A possible heuristic approach is to use the difference between a glyph’s bounding box and its advance width (when switching from italics to roman) or its bearing width (the other way round, often less critical, but still adequate).\nAssuming italics is slanted forward (in left-to-right writing direction) and that italicized glyphs usually reach their maximum extent to the right towards their top (and towards their bottom, on their left side), then it is possible to approximate a fairly decent correction.</p>\n<p>Nevertheless, this solution cannot be made perfect, even assuming a reasonable choice of fonts.\nPathological cases may still occur, even in latin scripts, for which there is no solution but using manual kerning.</p>\n<p>Different typesetting systems may implement this heuristic in different ways, and your mileage may vary.</p>\n",
    "permalink": "/italic-correction/",
    "slug": "italic-correction",
    "ancestors": [
      "_index.md"
    ],
    "title": "Automated Italic Correction",
    "description": "Switching between italic and roman, and reciprocally",
    "updated": null,
    "date": null,
    "year": null,
    "month": null,
    "day": null,
    "taxonomies": {},
    "authors": [],
    "extra": {
      "typesetters": [
        "sile",
        "xelatex",
        "typst"
      ]
    },
    "path": "/italic-correction/",
    "components": [
      "italic-correction"
    ],
    "summary": null,
    "toc": [],
    "word_count": 284,
    "reading_time": 2,
    "assets": [],
    "draft": false,
    "lang": "en",
    "lower": null,
    "higher": null,
    "translations": [],
    "backlinks": []
  },
  "zola_version": "0.21.0"
}</pre>
    -->
    <nav class="navbar" role="navigation" aria-label="main navigation">
      <h1 class="title is-1 navbar-brand"><a href="&#x2F;">Polytype</a></h1>
    </nav>
    <section class="section columns">
      <aside class="menu column is-narrow">
        


<aside class="menu">
  <p class="menu-label"> Sample Gallery </p>
  <ul class="menu-list">
    
    
    <li>
      <a href="/integral-alignment">Alignment of Integrals</a>
    </li>
    
    <li>
      <a href="/varlimits">Variant limits</a>
    </li>
    
    <li>
      <a href="/hieroglyphs">Hieroglyphs</a>
    </li>
    
    <li>
      <a href="/title-case">Title Case</a>
    </li>
    
    <li>
      <a href="/dropcaps">Dropcaps</a>
    </li>
    
    <li>
      <a href="/superscript">Superscript</a>
    </li>
    
    <li>
      <a href="/prime-symbol">The Prime Symbol</a>
    </li>
    
    <li>
      <a href="/willans">Willan’s Formula</a>
    </li>
    
    <li>
      <a href="/page-geometry">Page Geometry 101</a>
    </li>
    
    <li class="is-active">
      <a href="/italic-correction">Automated Italic Correction</a>
    </li>
    
    <li>
      <a href="/hello-world">Hello World!</a>
    </li>
    
  </ul>
  <p class="menu-label">About</p>
  <ul class="menu-list">
    <li><a href="/">Project Goals</a></li>
    <li><a href="https://github.com/alerque/polytype">Sources on GitHub</a></li>
  </ul>
  <p class="menu-label">Typesetting Engines</p>
  <ul class="menu-list">
    <li><a href="https://sile-typesetter.org">SILE</a></li>
    <li><a href="https://typst.app">Typst</a></li>
    <li><a href="https://www.latex-project.org">LaTeX</a></li>
    <li><a href="https://pagedjs.org">paged.js</a></li>
    <li><a href="https://weasyprint.org">WeasyPrint</a></li>
    <li><a href="https://www.speedata.de">Speedata</a></li>
    <li><a href="https://www.gnu.org/software/groff/groff.html">groff</a></li>
    <li><a href="https://patoline.github.io/">Patoline</a></li>
    <li><a href="https://github.com/gfngfn/SATySFi">SATySFi</a></li>
  </ul>
</aside>

      </aside>
      <div class="container column">
        

<h2 class="title is-2">Automated Italic Correction</h2>

<p>When an italicized word is followed or preceded by non-italicized text, the spacing may need to be adjusted, or “corrected”, so that the characters do not overlap.</p>
<p>You might thus want to insert some additional space between italicized words and non-italicized ones.
But inserting the necessary spaces manually is quite tedious, not to say impractical... And which type of space should you use?</p>
<p>An automated solution would be needed.
However, the concept of italic correction does not exist in OpenType fonts, and they do not provide the metrics that would allow a typesetting system to implement it easily. (This would apply to Graphite fonts too. More generally, there is no known font format supporting kerning across font style changes. Well, some TeX fonts have such a possibility, but it does not really help here with OpenType <em>in general.</em>)</p>
<p>So eventually, it boils down to the typesetting system to implement a heuristic solution...</p>
<p>A possible heuristic approach is to use the difference between a glyph’s bounding box and its advance width (when switching from italics to roman) or its bearing width (the other way round, often less critical, but still adequate).
Assuming italics is slanted forward (in left-to-right writing direction) and that italicized glyphs usually reach their maximum extent to the right towards their top (and towards their bottom, on their left side), then it is possible to approximate a fairly decent correction.</p>
<p>Nevertheless, this solution cannot be made perfect, even assuming a reasonable choice of fonts.
Pathological cases may still occur, even in latin scripts, for which there is no solution but using manual kerning.</p>
<p>Different typesetting systems may implement this heuristic in different ways, and your mileage may vary.</p>





<a id="sile" /></a>

<h3 class="title is-3">sile</h3>

<div class="columns">
  <div class="card column is-one-third">
    <div class="card-image">
      <img src="/italic-correction-sile.avif" />
    </div>
  </div>
  <div class="column">

    <p>
      Download:
      ( <a download href="/italic-correction-sile.sil">source</a>
      | <a download href="/italic-correction-sile.pdf">pdf</a>
      )
    </p>

    <h4 class="title is-4">Input document</h4>
    
    <pre class="sample" data-language="sile">\begin[papersize=a7]{document}
\nofolios
\neverindent
\use[module=packages.textsubsuper]
\font[family=Libertinus Serif,size=14pt]

No italic correction (default):

\begin{center}
(\em{fluff})

¡\em{fanciful proof}!

[\em{fluff}]

\em{fluff}\textsuperscript{n}
\end{center}

Correction heuristic enabled:

\set[parameter=typesetter.italicCorrection,value=true]

\begin{center}
(\em{fluff})

¡\em{fanciful proof}!

[\em{fluff}]

\em{fluff}\textsuperscript{n}
\end{center}
\end{document}
</pre>

    <h4 class="title is-4">Render command</h4>
    <pre class="terminal"><code><span class="symbol">$ </span>sile  -o italic-correction-sile.pdf italic-correction-sile.sil</code></pre>
  </div>
</div>




<a id="xelatex" /></a>

<h3 class="title is-3">xelatex</h3>

<div class="columns">
  <div class="card column is-one-third">
    <div class="card-image">
      <img src="/italic-correction-xelatex.avif" />
    </div>
  </div>
  <div class="column">

    <p>
      Download:
      ( <a download href="/italic-correction-xelatex.tex">source</a>
      | <a download href="/italic-correction-xelatex.pdf">pdf</a>
      )
    </p>

    <h4 class="title is-4">Input document</h4>
    
    <pre class="sample" data-language="xelatex">\documentclass[12pt]{article}
\usepackage[paperheight=105mm,paperwidth=74mm,margin=4mm]{geometry}
\pagenumbering{gobble}
\setlength{\parindent}{0pt}
\usepackage{fontspec}
\usepackage{moresize}
\usepackage{libertinus}
\begin{document}

Italic correction (default):

\begin{center}
  (\emph{fluff})

  ¡\emph{fanciful proof}!

  [\emph{fluff}]

  \emph{fluff}\textsuperscript{n}
\end{center}

(Visibly, no bearing correction?)
\end{document}
</pre>

    <h4 class="title is-4">Render command</h4>
    <pre class="terminal"><code><span class="symbol">$ </span>xelatex  -interaction=batchmode -halt-on-error -jobname data&#x2F;italic-correction-xelatex italic-correction-xelatex.tex</code></pre>
  </div>
</div>




<a id="typst" /></a>

<h3 class="title is-3">typst</h3>

<div class="columns">
  <div class="card column is-one-third">
    <div class="card-image">
      <img src="/italic-correction-typst.avif" />
    </div>
  </div>
  <div class="column">

    <p>
      Download:
      ( <a download href="/italic-correction-typst.typ">source</a>
      | <a download href="/italic-correction-typst.pdf">pdf</a>
      )
    </p>

    <h4 class="title is-4">Input document</h4>
    
    <pre class="sample" data-language="typst">#set page(
  paper: &quot;a7&quot;,
  margin: 4mm,
)
#set text(
  font: &quot;Libertinus Serif&quot;,
  size: 14pt,
)

No italic correction:

#align(center)[
  (_fluff_)

  ¡_fanciful proof_!

  [_fluff_]

  _fluff_#super([n])
]

At the time of writing (Feb. 2025), Typst does not have automated italic correction yet.
</pre>

    <h4 class="title is-4">Render command</h4>
    <pre class="terminal"><code><span class="symbol">$ </span>typst  compile italic-correction-typst.typ italic-correction-typst.pdf</code></pre>
  </div>
</div>




      </div>
    </section>
  </body>
</html>
